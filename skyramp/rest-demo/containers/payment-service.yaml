containers:
  - name: payment-service
    image:
      repository: public.ecr.aws/j1n2c2p2/microservices-demo/paymentservice
      tag: v0.3.9
    services:
      - payment-service-port60000
    envs:
      PORT: "50051"
      DISABLE_TRACING: "1"
      DISABLE_PROFILER: "1"
      DISABLE_DEBUGGER: "1"

services:
  - name: payment-service-port60000
    port: 60000
    protocol: rest
    endpoints:
      - payment-service

endpoints:
  - name: payment-service
    path: "/charge"
    methods:
      - type: 'POST'
        responseValue: ChargeResponse
        name: payment-service-post

responseValues:
  - name: ChargeResponse
    blob: |
      {
        "transaction_id": "abcefghi"
      }
