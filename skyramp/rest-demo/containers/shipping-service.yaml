containers:
  - name: shipping-service
    image:
      repository: public.ecr.aws/j1n2c2p2/microservices-demo/shippingservice
      tag: v0.3.9
    services:
      - shipping-service-port60000
    envs:
      PORT: "50051"
      DISABLE_TRACING: "1"
      DISABLE_PROFILER: "1"
      DISABLE_DEBUGGER: "1"

services:
  - name: shipping-service-port60000
    protocol: rest
    secure: true
    port: 60000
    endpoints:
      - get-shipping-quote
      - ship-order

endpoints:
  - name: get-shipping-quote
    path: "/get-quote"
    methods:
      - type: 'PUT'
        responseValue: GetQuoteResponse
        name: get-shipping-quote-put
  - name: ship-order
    path: "/ship-order"
    methods:
      - type: 'PUT'
        responseValue: ShipOrderResponse
        name: ship-order-put

responseValues:
  - name: GetQuoteResponse
    blob: |
      {
        "currency_code": "USD",
        "units": 150,
        "nanos": 99000000
      }

  - name: ShipOrderResponse
    blob: |
      "tracking-id-5f32af7c-799e-404e-9dc3-42be5461bad5"
